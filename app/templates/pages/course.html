{% extends 'index.html' %}

{% block title %}Courses{% endblock %}

{% block content %}

<div class="container my-5">
  <a href="/">Back to home page</a>
  <form class="w-50 m-auto" method="POST" action="">
    {{ form.hidden_tag() }}

    <div class="mb-3">
      {{ form.name.label(class="form-label") }}
      {{ form.name(class="form-control", placeholder="Enter the course name") }}
    </div>

    <div class="mb-3">
      {{ form.code.label(class="form-label") }}
      {{ form.code(class="form-control", placeholder="Enter the course code") }}
    </div>

    <div class="mb-3">
      {{ form.student.label(class="form-label") }}
      {{ form.student(class="form-select") }}
    </div>

    <div class="mb-3">
      {{ form.discipline.label(class="form-label") }}
      {{ form.discipline(class="form-select") }}
    </div>

    <div class="mb-3">
      {{ form.teacher.label(class="form-label") }}
      {{ form.teacher(class="form-select") }}
    </div>

    <div class="d-grid">
      {{ form.submit(class="btn btn-primary") }}
    </div>
  </form>

  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="mt-3">
    {% for category, message in messages %}
    <div class="alert alert-{{ category }}" role="alert">
      {{ message }}
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <h2 class="mt-5 mb-3 text-center">Registered Courses</h2>
  <ul class="list-group">
    {% for course in courses %}
    <li class="list-group-item">{{ course.name }}</li>
    {% endfor %}
  </ul>

</div>

{% endblock %}